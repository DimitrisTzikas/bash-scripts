#!/bin/bash
SOUND="$HOME/.sounds/lock2.wav"

case $(printf 'Control Panel\nEdit\nMode\nVPN' | dmenu -i -sb "$COLOR1" -p "Which option?") in
	'Control Panel')
	sleep .2
	case $(printf 'Wifi\nBluetooth\nEthernet' | dmenu -i -sb "$COLOR1" -p "Select mode:") in
		'Wifi')
		sleep .2
		case $(printf 'Enable\nDisable' | dmenu -i -sb "$COLOR1" -p "Select mode:") in
			'Enable')rfkill unblock wifi && mplayer $SOUND;;
			'Disable')sudo pkill wpa_supplicant ; rfkill block wifi && mplayer $SOUND;;
		esac;;
		'Bluetooth')
		sleep .2
		case $(printf 'Enable\nDisable' | dmenu -i -sb "$COLOR1" -p "Select mode:") in
			'Enable')sudo systemctl start bluetooth && rfkill unblock bluetooth && mplayer $SOUND;;
			'Disable')sudo systemctl stop bluetooth && rfkill block bluetooth && mplayer $SOUND;;
		esac;;
		'Ethernet')
		sleep .2
		case $(printf 'Enable\nDisable' | dmenu -i -sb "$COLOR1" -p "Select mode:") in
			'Enable')sudo ip link set up dev enp0s25 && mplayer $SOUND;;
			'Disable')sudo ip link set down dev enp0s25 && mplayer $SOUND;;
		esac;;
	esac;;
	'Edit')
	sleep .2
	file=`find ~/.dotfiles/ThinkpadX200s -type f | grep -v emacs.d | dmenu -i -sb "$COLOR1" -p "Select file:"` && (emacs $file & disown emacs);;
	'Mode')
	sleep .2
	case $(printf 'Home\nWork\nMobile' | dmenu -i -sb "$COLOR1" -p "Select mode:") in
		'Home')
			notify-send 'Swipe your finger' && sudo ip link set up dev enp0s25 && sudo pkill dhcpcd; sudo dhcpcd; sudo pkill wpa_supplicant
			xrandr --output VGA-1 --primary --right-of LVDS-1 --auto && xrandr --output LVDS-1 --left-of VGA-1 --auto && xmonad --restart
			sudo firewall onS
			sudo cp /etc/resolv.conf.example /etc/resolv.conf && sudo chattr +i /etc/resolv.conf;;
		'Work')
			xrandr --output VGA-1 --above LVDS-1 --auto && xrandr --output LVDS-1 --primary --below VGA-1 --auto && xmonad --restart
			sudo firewall onS
			sudo chattr -i /etc/resolv.conf && sudo rm /etc/resolv.conf && sudo resolvconf -u;;
		'Mobile')
			notify-send 'Swipe your finger' && sudo ip link set down dev enp0s25 && sudo pkill dhcpcd
			xrandr --output VGA-1 --off && xrandr --output LVDS-1 --auto && xmonad --restart
			sudo firewall onS
			sudo cp /etc/resolv.conf.example /etc/resolv.conf && sudo chattr +i /etc/resolv.conf;;
	esac;;
	'VPN')sleep .2;vpn;;
esac
